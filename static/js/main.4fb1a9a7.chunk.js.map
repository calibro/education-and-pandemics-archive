{"version":3,"sources":["utils/airtable.js","assets/resource-placeholder-doc.svg","assets/resource-placeholder-audio.svg","assets/resource-placeholder-web.svg","components/ResourceCard.jsx","components/ResourcesSlider.jsx","assets/logoE&PA.svg","assets/logo_ische.svg","components/commons/AnimatedLink.jsx","views/HomeView.jsx","utils/collection.js","assets/collection-add.svg","assets/collection-active.svg","components/ResourceExtendedInfo.jsx","components/RelatedResources.jsx","assets/arrow.svg","views/ResourceView.jsx","utils/embed.js","components/ResourcesGrid.jsx","assets/arrow-down.svg","assets/arrow-up.svg","components/PopoverStickOnHover.jsx","components/ResourcesList.jsx","components/maps/layers.js","components/maps/CountriesMap.jsx","components/maps/LocationsMap.jsx","components/ResourcesMap.jsx","components/FilterBlock.jsx","components/FilterDates.jsx","components/FilterSecondarySidebar.jsx","assets/reset-icon.svg","components/FilterSidebar.jsx","components/CurrentFiltersRecap.jsx","components/FilterSearch.jsx","assets/rectangle.svg","assets/rectangle-active.svg","assets/list.svg","assets/list-active.svg","assets/circle.svg","assets/circle-active.svg","assets/filters.svg","views/ExploreView.jsx","views/AboutView.jsx","assets/save.svg","assets/filter.svg","assets/export.svg","views/CollectionView.jsx","views/SubmitView.jsx","assets/logo.svg","assets/collection.svg","assets/collection-full.svg","components/Header.jsx","App.js","reportWebVitals.js","index.js"],"names":["base","Airtable","apiKey","process","MAIN_TABLE","ResourceCard","resourceImage","item","flick","fixedWidth","tagField","history","useHistory","fields","Attachments","length","thumbnails","large","url","Type_name","webPlaceholder","audioPlaceholder","docPlaceholder","title","pandemics","Pandemic_name","join","tag","className","style","width","onClick","current","isPlaying","push","id","src","alt","ResourcesSlider","items","infinite","React","viewportTag","cameraTag","classPrefix","deceleration","horizontal","circular","infiniteThreshold","lastIndex","Infinity","threshold","duration","panelEffect","x","Math","pow","defaultIndex","inputType","bounce","autoResize","zIndex","bound","overflow","hanger","gap","moveType","type","count","collectStatistics","ref","map","AnimatedLink","text","lines","randomLine","floor","random","height","viewBox","href","HomeView","state","archiveItems","loading","this","fetchData","self","setState","select","maxRecords","view","filterByFormula","firstPage","err","records","console","error","logo","to","Spinner","animation","target","rel","logoIsche","Component","CollectionContext","useCollectionState","createPersistedState","useCollection","context","Error","CollectionProvider","props","collection","setCollection","value","Provider","formatData","granularity","d","moment","format","ResourceExtendedInfo","resource","infoFields","field","label","v","CollectionAction","isInCollection","find","c","collectionCopy","JSON","parse","stringify","splice","findIndex","data-tip","backgroundImage","collectionIconSaved","collectionIconAdd","effect","info","Array","isArray","RelatedResources","useState","relatedResources","setRelatedResources","setLoading","themesOptions","t","typesOptions","setTypesOptions","data","r","activeThemeOption","setActiveThemeOption","activeTypeOption","setActiveTypeOption","useEffect","formula","classNamePrefix","options","onChange","isSearchable","theme","colors","primary","neutral0","primary25","ResourceView","resourceId","setResource","viewRef","createRef","scrollTo","record","generateEmbedCode","source","code","URL","hostname","includes","youtubeId","replace","split","frameBorder","allow","allowFullScreen","vimeoId","ID","match","embedUtils","archiveUrl","spotifyUrl","params","origin","pathname","allowtransparency","scrolling","encodeURIComponent","ResourceMedia","resourceContent","images","att","original","thumbnail","showNav","showFullscreenButton","showPlayButton","goBack","arrow","ResourcesGrid","i","PopoverStickOnHover","handleMouseEnter","bind","handleMouseLeave","showPopover","delay","onMouseEnter","setTimeoutConst","setTimeout","clearTimeout","component","children","placement","child","Children","cloneElement","onMouseLeave","node","_child","Fragment","Overlay","show","shouldUpdatePosition","flip","defaultProps","ResourcesList","useMemo","columns","Header","accessor","sortType","tableInstance","useTable","useSortBy","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","arrowUp","arrowDown","row","getRowProps","handleClick","cells","cell","getCellProps","clusterLayer","filter","paint","clusterCountLayer","layout","unclusteredPointLayer","ghostPoints","countriesLayer","property","stops","CountriesMap","onUpdate","parentRef","zoom","viewport","setViewport","size","setSize","window","addEventListener","clientWidth","clientHeight","itemsWithCountry","countriesGeoJSON","countriesWithData","_","uniq","geojson","countries","features","f","maxItems","max","forEach","properties","intensity","makeCountrGeoJSON","onTransitionEnd","event","visibleCountryIds","queryRenderedFeatures","onViewportChange","nextViewport","interactiveLayerIds","LocationsMap","itemsWithLocation","locationsGeoJSON","geometry","coordinates","visibleResIds","layer","cluster","clusterMaxZoom","clusterRadius","ResourcesMap","mapType","setMapType","filteredItems","setFilteredItems","mapContainerRef","name","checked","FilterBlock","useQueryParam","filterName","ArrayParam","setFilterValue","paramsArray","filterItems","val","valueBy","labelBy","isSelected","indexOf","FilterDates","NumberParam","startDate","setStartDate","endDate","setEndDate","selected","date","Date","UTC","getUTCFullYear","getUTCMonth","undefined","onChangeStart","dateFormat","placeholderText","showMonthYearPicker","onChangeEnd","FilterSecondarySidebar","open","onClose","clickRef","callback","e","fromDatePicker","String","contains","parentNode","document","removeEventListener","useClickOutside","filtersList","key","showSideMenu","currentFilterPanel","setShowSideMenu","blockTitle","filters","themes","types","tags","languages","cities","toggleOpen","arrowIcon","setFilterPanel","currentFilterContent","ResetFilter","resetIcon","CurrentFiltersRecap","filterKey","displayValue","isValid","toLowerCase","onRemove","FilterSeach","StringParam","seachQ","placeholder","ExploreView","currentViewType","showSideBar","prevProps","formulas","Object","keys","paramKey","filterVal","allRecords","eachPage","fetchNextPage","concat","toggleSideBar","filtersIcon","setCurrentViewType","rectIconActive","rectIcon","listIconActive","listIcon","circleIconActive","circleIcon","FilterSearch","renderParamsRecap","renderCurrentViewType","icons","saveIcon","filterIcon","exportIcon","dangerouslySetInnerHTML","html","intro","__html","about","explore","sections","section","icon","desc","sources","links","link","contacts","people","person","mail","CollectionView","csvData","Papa","Title","Summary","Pandemic","Type","Themes","Tags","Country","Location","Language","Credits","Created","Published","Contributor","a","filename","SubmitView","role","guidelines","before","description","expect","isNavCollapsed","setIsNavCollapsed","CollectionCount","activeClassName","collectionIconFull","collectionIcon","data-bs-toggle","data-bs-target","aria-controls","aria-label","aria-expanded","mapboxgl","workerClass","require","default","App","ReactRouterRoute","Route","location","exact","path","urlParams","qs","search","slice","withRouter","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4fb1a9a7.chunk.js","sourcesContent":["import Airtable from \"airtable\";\n\n//const baseID = \"appVmbOc3ARWos22X\"; // TEST\nconst baseID = \"appyRkLfkVtG84rMU\"; // PRODUCTION\n\nexport const base = new Airtable({\n  apiKey: process.env.REACT_APP_AIRTABLE_API_KEY,\n}).base(baseID);\n\nexport const MAIN_TABLE = \"Data\";\n","export default __webpack_public_path__ + \"static/media/resource-placeholder-doc.9441732c.svg\";","export default __webpack_public_path__ + \"static/media/resource-placeholder-audio.56c1ab0c.svg\";","export default __webpack_public_path__ + \"static/media/resource-placeholder-web.7b504f35.svg\";","import \"./ResourceCard.sass\";\nimport { useHistory } from \"react-router-dom\";\n\nimport docPlaceholder from \"../assets/resource-placeholder-doc.svg\";\nimport audioPlaceholder from \"../assets/resource-placeholder-audio.svg\";\nimport webPlaceholder from \"../assets/resource-placeholder-web.svg\";\n\nconst ResourceCard = ({ item, flick, fixedWidth, tagField }) => {\n  const history = useHistory();\n\n  function handleClick() {\n    if (!flick || !flick.current.isPlaying()) {\n      history.push(\"/explore/resource/\" + item.id);\n    }\n  }\n\n  let resourceImage;\n  if (item.fields.Attachments && item.fields.Attachments.length > 0) {\n    resourceImage = item.fields.Attachments[0].thumbnails.large.url;\n  } else {\n    if (item.fields.Type_name && item.fields.Type_name.length > 0) {\n      switch (item.fields.Type_name[0]) {\n        case \"Website\":\n          resourceImage = webPlaceholder;\n          break;\n        case \"Podcast\":\n          resourceImage = audioPlaceholder;\n          break;\n        // Here we can add more doc placeholer if available\n        default:\n          resourceImage = docPlaceholder;\n      }\n    } else {\n      resourceImage = docPlaceholder;\n    }\n  }\n\n  let title = item.fields[\"Title ID\"];\n  // if (title.length > 60) {\n  //   title = title.substring(0, 57) + \" (...)\";\n  // }\n\n  let pandemics = item.fields.Pandemic_name\n    ? item.fields.Pandemic_name.join(\",\")\n    : \"\";\n  // if (pandemics.length > 30) {\n  //   pandemics = pandemics.substring(0, 27) + \" (...)\";\n  // }\n  let tag = tagField && item.fields[tagField];\n  return (\n    <div\n      className=\"resource-card d-flex flex-column p-2 overflow-hidden\"\n      style={{ width: fixedWidth ? 235 : \"auto\" }}\n      onClick={handleClick}\n    >\n      {tag && (\n        <div className=\"resource-tag badge rounded-pill text-body me-2 mb-3\">\n          {tag}\n        </div>\n      )}\n      <img\n        src={resourceImage}\n        className=\"resource-card-img h-50 mb-3\"\n        alt=\"preview\"\n      />\n      <div className=\"resource-card-body flex-grow-1 flex-shrink-1 position-relative\">\n        <h3 className=\"resource-card-title fs-5\">{title}</h3>\n        <div className=\"fs-5 title-underline\">\n          <span>{title}</span>\n        </div>\n      </div>\n      <div className=\"resource-card-footer mt-auto flex-grow-0 flex-shrink-0\">\n        <div className=\"text-truncate d-block\">{pandemics}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default ResourceCard;\n","import * as React from \"react\";\nimport Flicking from \"@egjs/react-flicking\";\nimport ResourceCard from \"./ResourceCard\";\nimport \"./ResourcesSlider.sass\";\n\nconst ResourcesSlider = ({ items, infinite }) => {\n  let flick = React.createRef();\n\n  return (\n    <div className={`resource-slider ${infinite && \"infinite\"}`}>\n      <div className=\"fade-left\"></div>\n      <Flicking\n        tag=\"div\"\n        viewportTag=\"div\"\n        cameraTag=\"div\"\n        classPrefix=\"eg-flick\"\n        deceleration={0.0075}\n        horizontal={true}\n        circular={infinite}\n        infiniteThreshold={0}\n        lastIndex={Infinity}\n        threshold={40}\n        duration={100}\n        panelEffect={(x) => 1 - Math.pow(1 - x, 3)}\n        defaultIndex={0}\n        inputType={[\"touch\", \"mouse\"]}\n        bounce={10}\n        autoResize={false}\n        zIndex={2}\n        bound={false}\n        overflow={false}\n        hanger={\"50%\"}\n        gap={0}\n        moveType={{ type: \"snap\", count: 1 }}\n        collectStatistics={true}\n        ref={flick}\n      >\n        {items.map((item) => (\n          <ResourceCard\n            item={item}\n            flick={flick}\n            key={item.id}\n            fixedWidth\n          ></ResourceCard>\n        ))}\n      </Flicking>\n      <div className=\"fade-right\"></div>\n    </div>\n  );\n};\n\nexport default ResourcesSlider;\n","export default __webpack_public_path__ + \"static/media/logoE&PA.86c17c6d.svg\";","export default __webpack_public_path__ + \"static/media/logo_ische.4bda62ee.svg\";","import \"./AnimatedLink.sass\";\n\nconst AnimatedLink = ({ text }) => {\n  const lines = [\"#line\", \"#line1\", \"#line1\"];\n  const randomLine = lines[Math.floor(Math.random() * lines.length)];\n\n  return (\n    <div className=\"animated-btn lead\">\n      {text}\n      <svg\n        className=\"animated-btn-stroke\"\n        width=\"100%\"\n        height=\"100%\"\n        viewBox=\"0 0 210 56\"\n      >\n        <use href={randomLine}></use>\n      </svg>\n    </div>\n  );\n};\n\nexport default AnimatedLink;\n","import { Component } from \"react\";\nimport \"./HomeView.sass\";\nimport { base, MAIN_TABLE } from \"../utils/airtable\";\nimport { Link } from \"react-router-dom\";\nimport ResourcesSlider from \"../components/ResourcesSlider\";\nimport { Spinner } from \"react-bootstrap\";\nimport logo from \"../assets/logoE&PA.svg\";\nimport logoIsche from \"../assets/logo_ische.svg\";\nimport AnimatedLink from \"../components/commons/AnimatedLink\";\n\nexport default class HomeView extends Component {\n  state = {\n    archiveItems: [],\n    loading: false,\n  };\n  componentDidMount() {\n    this.fetchData();\n  }\n  fetchData() {\n    var self = this;\n    self.setState({\n      loading: true,\n    });\n\n    //OR(RECORD_ID() = ‘recRjdJSziwMjfhO8’, RECORD_ID() = ‘recdRonUzKAIMPOxb’)\n    base(MAIN_TABLE)\n      .select({\n        maxRecords: 20,\n        view: \"Table\",\n        filterByFormula: 'REGEX_MATCH({Status}, \"Published\")',\n      })\n      .firstPage(function (err, records) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        self.setState({\n          archiveItems: records,\n          loading: false,\n        });\n      });\n  }\n  render() {\n    return (\n      <div className=\"h-100 home-container\">\n        <div className=\"container-fluid p-0\">\n          <div className=\"row border-bottom border-dark g-0\">\n            <div className=\"col-12 col-md-6\">\n              <div className=\"logo-block h-100 p-3 p-md-5 border-dark\">\n                <img src={logo} alt=\"logo\" className=\"img-fluid mb-4\" />\n              </div>\n            </div>\n            <div className=\"col-12 col-md-6\">\n              <div className=\"d-flex flex-column h-100\">\n                <p className=\"lead m-3 m-md-5\">\n                  Welcome to the Education &amp; Pandemics Archive. We invite\n                  you to explore and collect various items related to education\n                  and health crises. Share your ideas and reflect on new ways of\n                  studying the history of education and pandemics with us – from\n                  past, to present, and by imagining future histories.\n                </p>\n                <div className=\"about-block d-flex flex-column flex-md-row mt-auto\">\n                  <Link\n                    to=\"/explore\"\n                    className=\"big-link border-top   border-dark flex-grow-1 flex-shrink-1 d-flex align-items-center justify-content-center\"\n                  >\n                    <AnimatedLink text=\"EXPLORE\"></AnimatedLink>\n                  </Link>\n                  <Link\n                    to=\"/about\"\n                    className=\"big-link border-top border-dark flex-grow-1 flex-shrink-1 d-flex align-items-center justify-content-center\"\n                  >\n                    <AnimatedLink text=\"ABOUT\"></AnimatedLink>\n                  </Link>\n                  <Link\n                    to=\"/submit\"\n                    className=\"big-link border-top border-dark flex-grow-1 flex-shrink-1 d-flex align-items-center justify-content-center\"\n                  >\n                    <AnimatedLink text=\"SUBMIT\"></AnimatedLink>\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <h5 className=\"text-center text-uppercase my-4 text-black-50\">\n                Latest updates\n              </h5>\n              <div className=\"slider-container position-relative\">\n                {this.state.loading ? (\n                  <div className=\"loading\">\n                    <Spinner animation=\"border\" />\n                    Loading resources\n                  </div>\n                ) : this.state.archiveItems.length > 0 ? (\n                  <ResourcesSlider\n                    items={this.state.archiveItems}\n                    infinite={true}\n                  ></ResourcesSlider>\n                ) : (\n                  <div>No resources</div>\n                )}\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <div className=\"my-5 text-black-50\">\n                <p className=\"text-center lead\">\n                  A project by{\" \"}\n                  <a\n                    href=\"https://www.ische.org/\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    <img src={logoIsche} alt=\"logo-ische\" className=\"ms-2\" />\n                  </a>\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import * as React from 'react'\nimport createPersistedState from 'use-persisted-state';\n\nconst CollectionContext = React.createContext()\n\nconst useCollectionState = createPersistedState('collection');\n\nfunction useCollection() {\n  const context = React.useContext(CollectionContext)\n  if (!context) {\n    throw new Error(`useCount must be used within a CollectionContext`)\n  }\n  return context\n}\nfunction CollectionProvider(props) {\n  const [collection, setCollection] = useCollectionState([])\n  const value = React.useMemo(() => [collection, setCollection], [collection])\n  return <CollectionContext.Provider value={value} {...props} />\n}\nexport {CollectionProvider, useCollection}\n\n/*\nexport function getCollection() {\n  let collection = JSON.parse(localStorage.getItem(STORAGE_KEY)) \n  return collection ? collection.items : []\n}\n\nexport function addToCollection(item) {\n  var collection = {};\n  var items = []\n  collection.items = items;\n  if (localStorage.getItem(STORAGE_KEY)) {\n    collection = JSON.parse(localStorage.getItem(STORAGE_KEY))\n  }\n  collection.items.push(item)\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(collection))\n}\n\nexport function removeFromCollection(item) {\n  // TODO\n}\n*/","export default __webpack_public_path__ + \"static/media/collection-add.d1a65b09.svg\";","export default __webpack_public_path__ + \"static/media/collection-active.88e6f50a.svg\";","import \"./ResourceExtendedInfo.sass\";\nimport { useCollection } from \"../utils/collection\";\nimport moment from \"moment\";\nimport AnimatedLink from \"./commons/AnimatedLink\";\nimport ReactTooltip from \"react-tooltip\";\n\nimport collectionIconAdd from \"../assets/collection-add.svg\";\nimport collectionIconSaved from \"../assets/collection-active.svg\";\n\nlet formatData = (value, granularity) => {\n  let d = moment(value, \"YYYY-MM-DD\");\n  switch (granularity) {\n    case \"day\":\n      return d.format(\"DD/MM/YYYY\");\n    case \"month\":\n      return d.format(\"MM/YYYY\");\n    case \"year\":\n      return d.format(\"YYYY\");\n    default:\n      return d.format(\"DD/MM/YYYY\");\n  }\n};\n\nconst ResourceExtendedInfo = ({ resource }) => {\n  let infoFields = [\n    {\n      field: \"Pandemic_name\",\n      label: \"Pandemic\",\n    },\n    {\n      field: \"Type_name\",\n      label: \"Type\",\n    },\n    {\n      field: \"Themes_name\",\n      label: \"Themes\",\n    },\n    {\n      field: \"Tags_name\",\n      label: \"Tags\",\n    },\n    {\n      field: \"Country_name\",\n      label: \"Country\",\n    },\n    {\n      field: \"Location_name\",\n      label: \"Location\",\n    },\n    {\n      field: \"Language_name\",\n      label: \"Language\",\n    },\n    {\n      field: \"Credits\",\n      label: \"Credits\",\n    },\n    {\n      field: \"Production date\",\n      label: \"Created\",\n      format: (v, fields) =>\n        v ? formatData(v, fields[\"Granularity production date\"]) : \"\",\n    },\n    {\n      field: \"Publishing date\",\n      label: \"Published\",\n      format: (v, fields) =>\n        v ? formatData(v, fields[\"Granularity publishing date\"]) : \"\",\n    },\n    {\n      field: \"Added in the archive (YYYY-MM-DD)\",\n      label: \"Archived\",\n      format: (v, fields) => (v ? formatData(v, \"day\") : \"\"),\n    },\n    {\n      field: \"Contributor\",\n      label: \"Contributor\",\n    },\n  ];\n\n  const CollectionAction = () => {\n    const [collection, setCollection] = useCollection();\n\n    const toggleFromCollection = () => {\n      setCollection((c) => {\n        let collectionCopy = JSON.parse(JSON.stringify(c));\n\n        if (collectionCopy.find((item) => item.id === resource.id)) {\n          collectionCopy.splice(\n            collectionCopy.findIndex((item) => item.id === resource.id),\n            1\n          );\n        } else {\n          collectionCopy.push({\n            id: resource.id,\n            fields: resource.fields,\n          });\n        }\n        return collectionCopy;\n      });\n    };\n    const isInCollection = collection.find((item) => item.id === resource.id);\n    return (\n      <div\n        className=\"collection-icon\"\n        onClick={toggleFromCollection}\n        data-tip={isInCollection ? \"Remove item\" : \"Save item\"}\n        style={{\n          backgroundImage: !isInCollection\n            ? `url(${collectionIconAdd})`\n            : `url(${collectionIconSaved})`,\n        }}\n      >\n        <ReactTooltip effect=\"solid\" />\n      </div>\n    );\n  };\n  return (\n    <div className=\"resource-extended-info\">\n      <div className=\"resource-title\">\n        {resource.fields[\"Title ID\"]}\n        <CollectionAction />\n      </div>\n      <div className=\"resource-desc\">\n        {resource.fields[\"Summary (limit 500)\"]}\n      </div>\n      <div className=\"resource-metadata\">\n        {infoFields.map((info) => {\n          return (\n            <div className=\"meta-row\" key={info.field}>\n              <div className=\"meta-title\">{info.label}</div>\n              <div className=\"meta-value\">\n                {info.format\n                  ? info.format(resource.fields[info.field], resource.fields)\n                  : Array.isArray(resource.fields[info.field])\n                  ? resource.fields[info.field].join(\", \")\n                  : resource.fields[info.field] || \"/\"}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      {resource.fields[\"URL\"] && (\n        <a\n          className=\"resource-source\"\n          href={resource.fields[\"URL\"]}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <AnimatedLink text=\"GO TO SOURCE\"></AnimatedLink>\n        </a>\n      )}\n    </div>\n  );\n};\n\nexport default ResourceExtendedInfo;\n","import React, { useEffect, useState } from \"react\";\n\nimport { base, MAIN_TABLE } from \"../utils/airtable\";\n\nimport ResourcesSlider from \"../components/ResourcesSlider\";\nimport { Spinner } from \"react-bootstrap\";\n\nimport Select from \"react-select\";\n\nconst RelatedResources = ({ resource }) => {\n  const [relatedResources, setRelatedResources] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const themesOptions =\n    resource.fields && resource.fields[\"Themes_name\"]\n      ? resource.fields[\"Themes_name\"].map((t) => {\n          return { value: t, label: t };\n        })\n      : [];\n\n  const [typesOptions, setTypesOptions] = useState([]);\n\n  if (typesOptions.length === 0) {\n    base(\"Type list\")\n      .select({\n        view: \"Grid view\",\n        filterByFormula: \"{Count}>0\",\n      })\n      .firstPage(function (err, data) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        setTypesOptions(\n          data.map((r) => {\n            return { value: r.fields[\"Type\"], label: r.fields[\"Type\"] };\n          })\n        );\n      });\n  }\n\n  const [activeThemeOption, setActiveThemeOption] = useState(themesOptions[0]);\n  const [activeTypeOption, setActiveTypeOption] = useState({\n    value: resource.fields[\"Type_name\"],\n    label: resource.fields[\"Type_name\"],\n  });\n\n  useEffect(() => {\n    setLoading(true);\n\n    let formula = \"\";\n    if (activeThemeOption) {\n      formula =\n        'AND(FIND(\"' +\n        activeTypeOption.value +\n        '\",{Type}), FIND(\"' +\n        activeThemeOption.value +\n        '\",{Themes}))';\n    } else {\n      formula = 'FIND(\"' + activeTypeOption.value + '\",{Type})';\n    }\n    formula = 'AND(REGEX_MATCH({Status}, \"Published\"), ' + formula + \")\";\n\n    base(MAIN_TABLE)\n      .select({\n        view: \"Table\",\n        filterByFormula: formula,\n      })\n      .firstPage(function (err, records) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        setRelatedResources(records);\n        setLoading(false);\n      });\n  }, [activeThemeOption, activeTypeOption]);\n\n  return (\n    <div className=\"related-resources-panel\">\n      <div className=\"related-options d-flex flex-column flex-md-row\">\n        <span>Explore other</span>\n        <Select\n          classNamePrefix=\"custom-select\"\n          options={typesOptions}\n          onChange={setActiveTypeOption}\n          value={activeTypeOption}\n          isSearchable={false}\n          theme={(theme) => ({\n            ...theme,\n            colors: {\n              ...theme.colors,\n              primary: \"#F3EFE6\",\n              neutral0: \"#FFFFF\",\n              primary25: \"#FBFAF7\",\n            },\n          })}\n        />\n        <span>in theme</span>\n        <Select\n          classNamePrefix=\"custom-select\"\n          options={themesOptions}\n          onChange={setActiveThemeOption}\n          value={activeThemeOption}\n          isSearchable={false}\n          theme={(theme) => ({\n            ...theme,\n            colors: {\n              ...theme.colors,\n              primary: \"#F3EFE6\",\n              neutral0: \"#FFFFF\",\n              primary25: \"#FBFAF7\",\n            },\n          })}\n        />\n      </div>\n      {loading ? (\n        <div className=\"loading\">\n          <Spinner animation=\"border\" />\n          Loading resources\n        </div>\n      ) : relatedResources.length > 0 ? (\n        <ResourcesSlider\n          items={relatedResources}\n          infinite={false}\n        ></ResourcesSlider>\n      ) : (\n        <div>No related resources</div>\n      )}\n    </div>\n  );\n};\n\nexport default RelatedResources;\n","export default __webpack_public_path__ + \"static/media/arrow.9282adbf.svg\";","import React, { useEffect, useState } from \"react\";\nimport \"./ResourceView.sass\";\nimport { base, MAIN_TABLE } from \"../utils/airtable\";\nimport { Spinner } from \"react-bootstrap\";\nimport * as embedUtils from \"../utils/embed\";\nimport ResourceExtendedInfo from \"../components/ResourceExtendedInfo\";\nimport RelatedResources from \"../components/RelatedResources\";\nimport AnimatedLink from \"../components/commons/AnimatedLink\";\nimport { useHistory } from \"react-router-dom\";\n\nimport arrow from \"../assets/arrow.svg\";\n\nimport ImageGallery from \"react-image-gallery\";\n\nconst ResourceView = ({ resourceId }) => {\n  const [resource, setResource] = useState({});\n  let viewRef = React.createRef();\n  let history = useHistory();\n\n  useEffect(() => {\n    viewRef.current && viewRef.current.scrollTo(0, 0);\n    setResource({});\n\n    base(MAIN_TABLE).find(resourceId, function (err, record) {\n      if (err) {\n        console.error(err);\n        return;\n      }\n      setResource(record);\n    });\n  }, [resourceId]);\n\n  const generateEmbedCode = () => {\n    let code = <div></div>;\n    let source;\n    try {\n      source = new URL(resource.fields[\"URL\"]);\n    } catch (err) {\n      code = <div>No url is defined</div>;\n    }\n    if (source) {\n      // YouTube\n      if (source.hostname.includes(\"youtu\")) {\n        let youtubeId = embedUtils.getYoutubeId(source.href);\n        code = (\n          <iframe\n            title=\"content\"\n            src={\"https://www.youtube.com/embed/\" + youtubeId}\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n          ></iframe>\n        );\n      }\n\n      // VIMEO\n      else if (source.hostname.includes(\"vimeo\")) {\n        let vimeoId = embedUtils.getVimeoId(source.href);\n        code = (\n          <iframe\n            title=\"content\"\n            src={\"https://player.vimeo.com/video/\" + vimeoId}\n            frameBorder=\"0\"\n            allow=\"autoplay; fullscreen; picture-in-picture\"\n            allowFullScreen\n          ></iframe>\n        );\n      }\n\n      // Archive\n      else if (source.hostname.includes(\"archive.org\")) {\n        let archiveUrl = embedUtils.getArchiveURL(source.href);\n        code = (\n          <iframe\n            width=\"100%\"\n            height=\"360\"\n            title=\"content\"\n            src={archiveUrl}\n            frameBorder=\"0\"\n            allow=\"autoplay; fullscreen; picture-in-picture\"\n            allowFullScreen\n          ></iframe>\n        );\n      }\n\n      // Spotify\n      else if (source.hostname.includes(\"spotify\")) {\n        let spotifyUrl = embedUtils.getSpotifyUrl(source.href);\n        code = (\n          <iframe\n            width=\"100%\"\n            height=\"360\"\n            title=\"content\"\n            src={spotifyUrl}\n            frameBorder=\"0\"\n            allowtransparency=\"true\"\n            allow=\"encrypted-media\"\n          ></iframe>\n        );\n      }\n      // Soundcloud\n      else if (source.hostname.includes(\"soundcloud\")) {\n        code = (\n          <iframe\n            width=\"100%\"\n            height=\"300\"\n            title=\"content\"\n            scrolling=\"no\"\n            frameBorder=\"no\"\n            allow=\"autoplay\"\n            src={\n              \"https://w.soundcloud.com/player/?url=\" +\n              encodeURIComponent(source.href) +\n              \"&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true\"\n            }\n          ></iframe>\n        );\n      }\n    }\n\n    return <div className=\"iframe-container\">{code}</div>;\n  };\n\n  const ResourceMedia = () => {\n    let resourceContent = <span>No item format defined</span>;\n    let isEmbed = resource.fields[\"Embed\"];\n    if (isEmbed) {\n      resourceContent = generateEmbedCode();\n    } else {\n      if (resource.fields[\"Attachments\"]) {\n        if (resource.fields[\"Attachments\"].length > 1) {\n          let images = resource.fields[\"Attachments\"].map((att) => {\n            return {\n              original: att.url,\n              thumbnail: att.thumbnails.large.url,\n            };\n          });\n          resourceContent = (\n            <ImageGallery\n              items={images}\n              infinite={false}\n              showNav={false}\n              showFullscreenButton={false}\n              showPlayButton={false}\n            />\n          );\n        } else {\n          resourceContent = (\n            <>\n              <img\n                src={resource.fields[\"Attachments\"][0].url}\n                alt={resource.fields[\"Title ID\"]}\n              ></img>\n              {resource.fields[\"URL\"] && (\n                <div className=\"overlay\">\n                  <a\n                    className=\"resource-source border border-dark\"\n                    href={resource.fields[\"URL\"]}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    <AnimatedLink text=\"GO TO SOURCE\"></AnimatedLink>\n                  </a>\n                </div>\n              )}\n            </>\n          );\n        }\n      }\n    }\n    return resourceContent;\n  };\n\n  return resource.fields ? (\n    <div className=\"resource-page\" ref={viewRef}>\n      <div className=\"resource-view\">\n        <div\n          className=\"navigate-back ms-3 ms-md-0\"\n          onClick={() => history.goBack()}\n        >\n          <div\n            className=\"arrow-icon\"\n            style={{ backgroundImage: `url(${arrow})` }}\n          ></div>\n          <span className=\"d-none d-md-block\">BACK TO THE RESULTS</span>\n        </div>\n        <div className=\"resource-preview\">\n          <ResourceMedia></ResourceMedia>\n        </div>\n        <div className=\"resource-sideinfo-container\">\n          <ResourceExtendedInfo resource={resource}></ResourceExtendedInfo>\n          <a className=\"mailto\" href=\"mailto:archive.project@ische.org\">\n            Contact us if you know more about this item\n          </a>\n        </div>\n      </div>\n      <div className=\"related-resources\">\n        <RelatedResources resource={resource}></RelatedResources>\n      </div>\n    </div>\n  ) : (\n    <div className=\"loading\">\n      <Spinner animation=\"border\" />\n      Loading resource\n    </div>\n  );\n};\n\nexport default ResourceView;\n","export function getYoutubeId(url) {\n  var ID = '';\n  url = url.replace(/(>|<)/gi,'').split(/(vi\\/|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/)\n  if(url[2]) {\n    ID = url[2].split(/[^0-9a-z_\\-]/i)\n    ID = ID[0]\n  }\n  else {\n    ID = url\n  }\n  return ID\n}\n\nexport function getVimeoId (url) {\n  var ID = '';\n  var regExp = /https:\\/\\/(www\\.)?vimeo.com\\/(\\d+)($|\\/)/;\n  var match = url.match(regExp);\n  if (match){\n    ID = match[2]\n  }\n  return ID\n}\n\nexport function getArchiveURL (url) {\n  return url.replace('details','embed')\n}\n\nexport function getSpotifyUrl(url) {\n  //TODO: Not always is \"embed\", check what happens with songs/album/podcasts\n  let params = new URL(url)\n  return params.origin + '/embed/' + params.pathname\n}\n\n","import ResourceCard from \"../components/ResourceCard\";\nimport \"./ResourcesGrid.sass\";\n\nconst ResourcesGrid = ({ archiveItems, tagField }) => {\n  return (\n    <div className=\"resouce-grid-container border-top border-dark\">\n      {archiveItems.map((item, i) => (\n        <ResourceCard\n          item={item}\n          key={i + item.id}\n          tagField={tagField}\n        ></ResourceCard>\n      ))}\n    </div>\n  );\n};\n\nexport default ResourcesGrid;\n","export default __webpack_public_path__ + \"static/media/arrow-down.4bfc19f6.svg\";","export default __webpack_public_path__ + \"static/media/arrow-up.4bfc19f6.svg\";","/*\n* Usage:\n* <PopoverStickOnHover\n*    component={<div>Holy guacamole! I'm Sticky.</div>}\n*    placement=\"top\"\n*    onMouseEnter={() => { }}\n*    delay={200}\n* >\n*   <div>Show the sticky tooltip</div>\n* </PopoverStickOnHover>\n*/\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { Overlay } from 'react-bootstrap'\n\nexport default class PopoverStickOnHover extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.handleMouseEnter = this.handleMouseEnter.bind(this)\n    this.handleMouseLeave = this.handleMouseLeave.bind(this)\n\n    this.state = {\n      showPopover: false,\n    }\n  }\n\n  handleMouseEnter() {\n    const { delay, onMouseEnter } = this.props\n\n    this.setTimeoutConst = setTimeout(() => {\n      this.setState({ showPopover: true }, () => {\n        if (onMouseEnter) {\n          onMouseEnter()\n        }\n      })\n    }, delay);\n  }\n\n  handleMouseLeave() {\n    clearTimeout(this.setTimeoutConst)\n    this.setState({ showPopover: false })\n  }\n\n  componentWillUnmount() {\n    if (this.setTimeoutConst) {\n      clearTimeout(this.setTimeoutConst)\n    }\n  }\n\n  render() {\n    let { component, children, placement } = this.props\n\n    const child = React.Children.map(children, (child) => (\n      React.cloneElement(child, {\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        ref: (node) => {\n          this._child = node\n          const { ref } = child\n          if (typeof ref === 'function') {\n            ref(node);\n          }\n        }\n      })\n    ))[0]\n\n    return(\n      <React.Fragment>\n        {child}\n        <Overlay\n          show={this.state.showPopover}\n          placement={placement}\n          target={this._child}\n          shouldUpdatePosition={true}\n          flip={true}\n        >\n          \n          {component}\n        </Overlay>\n      </React.Fragment>\n    )\n  }\n}\n\nPopoverStickOnHover.defaultProps = {\n  delay: 0\n}\n\nPopoverStickOnHover.propTypes = {\n  delay: PropTypes.number,\n  onMouseEnter: PropTypes.func,\n  children: PropTypes.element.isRequired,\n  component: PropTypes.node.isRequired\n}","import React from \"react\";\nimport { useTable, useSortBy } from \"react-table\";\nimport arrowDown from \"../assets/arrow-down.svg\";\nimport arrowUp from \"../assets/arrow-up.svg\";\nimport \"./ResourcesList.sass\";\nimport { useHistory } from \"react-router-dom\";\n\nimport PopoverStickOnHover from \"./PopoverStickOnHover\";\n\nconst ResourcesList = ({ archiveItems }) => {\n  const data = React.useMemo(\n    () =>\n      archiveItems.map((i) => {\n        return {\n          ...i.fields,\n          id: i.id,\n        };\n      }),\n    []\n  );\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"Pandemics\",\n        accessor: \"Pandemic_name\",\n        sortType: \"basic\",\n      },\n      {\n        Header: \"Title\",\n        accessor: \"Title ID\",\n        sortType: \"basic\",\n      },\n      {\n        Header: \"Type\",\n        accessor: \"Type_name\",\n        sortType: \"basic\",\n      },\n      {\n        Header: \"Themes\",\n        accessor: \"Themes_name\",\n        sortType: \"basic\",\n      },\n      {\n        Header: \"Tags\",\n        accessor: \"Tags_name\",\n        sortType: \"basic\",\n      },\n      {\n        Header: \"Languages\",\n        accessor: \"Language_name\",\n        sortType: \"basic\",\n      },\n      {\n        Header: \"Contributor\",\n        accessor: \"Contributor\",\n        sortType: \"basic\",\n      },\n    ],\n    []\n  );\n\n  const tableInstance = useTable({ columns, data }, useSortBy);\n\n  const { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow } =\n    tableInstance;\n\n  let history = useHistory();\n  const handleClick = (row) => {\n    history.push(\"/explore/resource/\" + row.original.id);\n  };\n\n  return (\n    // apply the table props\n    <table\n      {...getTableProps()}\n      className=\"resource-table w-100 h-100 d-block overflow-scroll border-top border-dark flex-grow-1 flex-shrink-1\"\n    >\n      <thead>\n        {\n          // Loop over the header rows\n          headerGroups.map((headerGroup) => (\n            // Apply the header row props\n            <tr {...headerGroup.getHeaderGroupProps()}>\n              {\n                // Loop over the headers in each row\n                headerGroup.headers.map((column) => (\n                  // Apply the header cell props\n                  <th {...column.getHeaderProps(column.getSortByToggleProps())}>\n                    <div className=\"d-flex align-items-center\">\n                      <span>\n                        {\n                          // Render the header\n                          column.render(\"Header\")\n                        }\n                      </span>\n                      {column.isSorted && (\n                        <span>\n                          <img\n                            src={column.isSortedDesc ? arrowUp : arrowDown}\n                            alt=\"arrow sort\"\n                            className={column.isSortedDesc ? \"reverse\" : \"\"}\n                          />\n                        </span>\n                      )}\n                    </div>\n                  </th>\n                ))\n              }\n            </tr>\n          ))\n        }\n      </thead>\n      {/* Apply the table body props */}\n      <tbody {...getTableBodyProps()}>\n        {\n          // Loop over the table rows\n          rows.map((row) => {\n            // Prepare the row for display\n            prepareRow(row);\n            return (\n              // Apply the row props\n              <PopoverStickOnHover\n                component={\n                  row.original.Attachments ? (\n                    <img\n                      src={row.original.Attachments[0].url}\n                      style={{ width: \"30vw\" }}\n                      alt={row.original[\"Title ID\"]}\n                    />\n                  ) : (\n                    <div></div>\n                  )\n                }\n                placement=\"bottom\"\n                onMouseEnter={() => {}}\n                delay={200}\n              >\n                <tr {...row.getRowProps()} onClick={() => handleClick(row)}>\n                  {\n                    // Loop over the rows cells\n                    row.cells.map((cell) => {\n                      // Apply the cell props\n                      return (\n                        <td {...cell.getCellProps()}>\n                          {\n                            // Render the cell contents\n                            Array.isArray(cell.value)\n                              ? cell.value.join(\", \")\n                              : cell.render(\"Cell\")\n                            //cell.render('Cell')\n                          }\n                        </td>\n                      );\n                    })\n                  }\n                </tr>\n              </PopoverStickOnHover>\n            );\n          })\n        }\n      </tbody>\n    </table>\n  );\n};\n\nexport default ResourcesList;\n","export const clusterLayer = {\n  id: 'clusters',\n  type: 'circle',\n  source: 'locations-cluster',\n  filter: ['has', 'point_count'],\n  paint: {\n    'circle-color': '#B87333',\n    'circle-radius': ['step', ['get', 'point_count'], 20, 100, 30, 750, 40]\n  }\n};\n\nexport const clusterCountLayer = {\n  id: 'cluster-count',\n  type: 'symbol',\n  source: 'locations-cluster',\n  filter: ['has', 'point_count'],\n  layout: {\n    'text-field': '{point_count_abbreviated}',\n    'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\n    'text-size': 12,\n  },\n  paint: {\n    \"text-color\": \"#ffffff\"\n  }\n};\n\nexport const unclusteredPointLayer = {\n  id: 'unclustered-point',\n  type: 'circle',\n  source: 'locations-cluster',\n  filter: ['!', ['has', 'point_count']],\n  paint: {\n    'circle-color': '#B87333',\n    'circle-radius': 10\n  }\n};\n\nexport const ghostPoints = {\n  id: 'ghost-points',\n  type: 'circle',\n  source: 'locations',\n  paint: {\n    'circle-color': '#B87333',\n    'circle-radius': 0\n  }\n};\n\nexport const countriesLayer = {\n  id: 'data',\n  type: 'fill',\n  paint: {\n    'fill-color': '#B87333',\n    'fill-opacity': {\n      property: 'intensity',\n      stops: [\n        [0, 0.2],\n        [1, 0.95]\n      ]\n    },\n  }\n};","import * as React from \"react\";\nimport { useEffect, useState, useMemo } from \"react\";\nimport ReactMapGL, { Source, Layer } from \"react-map-gl\";\nimport _ from \"lodash\";\nimport { countriesLayer } from \"./layers\";\nimport countries from \"../../assets/geojson/countries.geo.json\";\n\nfunction makeCountrGeoJSON(items) {\n  const countriesWithData = _.uniq(items.map((i) => i.fields[\"Country_a3\"][0]));\n  let geojson = {\n    ...countries,\n    features: countries.features.filter((f) =>\n      countriesWithData.includes(f.id)\n    ),\n  };\n  let maxItems = _.max(\n    countriesWithData.map(\n      (c) => items.filter((i) => i.fields[\"Country_a3\"] == c).length\n    )\n  );\n  geojson.features.forEach((f) => {\n    f.properties.intensity =\n      items.filter((i) => i.fields[\"Country_a3\"] == f.id).length / maxItems;\n    f.properties.id = f.id;\n  });\n  return geojson;\n}\n\nfunction CountriesMap({ archiveItems, onUpdate, parentRef }) {\n  let map = React.createRef();\n\n  const [viewport, setViewport] = useState({\n    zoom: 1,\n  });\n\n  const [size, setSize] = useState({\n    width: \"100%\",\n    height: \"100%\",\n  });\n\n  React.useEffect(() => {\n    window.addEventListener(\"resize\", () => {\n      setSize({\n        width: parentRef.current ? parentRef.current.clientWidth : \"100%\",\n        height: parentRef.current ? parentRef.current.clientHeight : \"100%\",\n      });\n    });\n  }, []);\n\n  const itemsWithCountry = archiveItems.filter((i) => i.fields[\"Country\"]);\n  useEffect(() => {\n    onUpdate(itemsWithCountry);\n  }, []);\n\n  const onMapMove = (event) => {\n    if (map.current) {\n      var features = map.current.queryRenderedFeatures();\n      var visibleCountryIds = features\n        .map((f) => f.properties.id)\n        .filter((f) => f);\n      onUpdate(\n        itemsWithCountry.filter((i) =>\n          visibleCountryIds.includes(i.fields[\"Country_a3\"][0])\n        )\n      );\n    }\n  };\n\n  const countriesGeoJSON = useMemo(\n    () => makeCountrGeoJSON(itemsWithCountry),\n    itemsWithCountry\n  );\n\n  return (\n    <ReactMapGL\n      ref={map}\n      {...viewport}\n      {...size}\n      onTransitionEnd={onMapMove}\n      onViewportChange={(nextViewport) => setViewport(nextViewport)}\n      interactiveLayerIds={[countriesLayer.id]}\n    >\n      <Source id=\"countries\" type=\"geojson\" data={countriesGeoJSON}>\n        <Layer {...countriesLayer} />\n      </Source>\n    </ReactMapGL>\n  );\n}\n\nexport default CountriesMap;\n","import * as React from \"react\";\nimport { useEffect, useState, useMemo } from \"react\";\nimport ReactMapGL, { Source, Layer } from \"react-map-gl\";\nimport {\n  clusterLayer,\n  clusterCountLayer,\n  unclusteredPointLayer,\n  ghostPoints,\n} from \"./layers\";\n\nfunction makeLocationsGeoJSON(items) {\n  return {\n    type: \"FeatureCollection\",\n    features: items.map((item) => {\n      return {\n        type: \"Feature\",\n        properties: {\n          id: item.id,\n          type: \"resource\",\n        },\n        geometry: {\n          type: \"Point\",\n          coordinates: [\n            item.fields[\"Location_long\"][0],\n            item.fields[\"Location_lat\"][0],\n          ],\n        },\n      };\n    }),\n  };\n}\n\nfunction LocationsMap({ archiveItems, onUpdate, parentRef }) {\n  let map = React.createRef();\n\n  const [viewport, setViewport] = useState({\n    zoom: 1,\n  });\n\n  const [size, setSize] = useState({\n    width: \"100%\",\n    height: \"100%\",\n  });\n\n  React.useEffect(() => {\n    window.addEventListener(\"resize\", () => {\n      setSize({\n        width: parentRef.current ? parentRef.current.clientWidth : \"100%\",\n        height: parentRef.current ? parentRef.current.clientHeight : \"100%\",\n      });\n    });\n  }, []);\n\n  const itemsWithLocation = archiveItems.filter(\n    (i) =>\n      i.fields[\"Location\"] &&\n      i.fields[\"Location_long\"] &&\n      i.fields[\"Location_lat\"]\n  );\n  useEffect(() => {\n    onUpdate(itemsWithLocation);\n  }, []);\n\n  const onMapMove = (event) => {\n    if (map.current) {\n      var features = map.current.queryRenderedFeatures();\n      let visibleResIds = features\n        .filter((f) => f.layer.id === ghostPoints.id)\n        .map((f) => f.properties.id);\n      onUpdate(itemsWithLocation.filter((i) => visibleResIds.includes(i.id)));\n    }\n  };\n\n  const locationsGeoJSON = useMemo(\n    () => makeLocationsGeoJSON(itemsWithLocation),\n    itemsWithLocation\n  );\n\n  //map.current && map.current.on('move', onMapMove)\n  return (\n    <ReactMapGL\n      ref={map}\n      {...viewport}\n      {...size}\n      onTransitionEnd={onMapMove}\n      onViewportChange={(nextViewport) => setViewport(nextViewport)}\n      interactiveLayerIds={[ghostPoints.id]}\n    >\n      <Source\n        id=\"locations-cluster\"\n        type=\"geojson\"\n        data={locationsGeoJSON}\n        cluster={true}\n        clusterMaxZoom={14}\n        clusterRadius={50}\n      >\n        <Layer {...clusterLayer} />\n        <Layer {...clusterCountLayer} />\n        <Layer {...unclusteredPointLayer} />\n      </Source>\n      <Source id=\"locations\" type=\"geojson\" data={locationsGeoJSON}>\n        <Layer {...ghostPoints} />\n      </Source>\n    </ReactMapGL>\n  );\n}\n\nexport default LocationsMap;\n","import * as React from \"react\";\nimport { useState } from \"react\";\nimport \"./ResourcesMap.sass\";\nimport ResourcesGrid from \"./ResourcesGrid\";\nimport CountriesMap from \"./maps/CountriesMap\";\nimport LocationsMap from \"./maps/LocationsMap\";\n\nfunction ResourcesMap({ archiveItems }) {\n  const [mapType, setMapType] = useState(\"countries\");\n  const [filteredItems, setFilteredItems] = useState(archiveItems);\n\n  let mapContainerRef = React.useRef();\n\n  //map.current && map.current.on('move', onMapMove)\n  return (\n    <div className=\"resource-map d-flex position-relative overflow-hidden flex-grow-1 flex-shrink-1 border-top border-dark\">\n      <div className=\"row g-0 w-100\">\n        <div className=\"col-12 col-md-8 map-container\" ref={mapContainerRef}>\n          {mapType === \"locations\" && (\n            <LocationsMap\n              archiveItems={archiveItems}\n              onUpdate={setFilteredItems}\n              parentRef={mapContainerRef}\n            ></LocationsMap>\n          )}\n          {mapType === \"countries\" && (\n            <CountriesMap\n              archiveItems={archiveItems}\n              onUpdate={setFilteredItems}\n              parentRef={mapContainerRef}\n            ></CountriesMap>\n          )}\n        </div>\n\n        <div className=\"col-12 col-md-4 map-sidebar d-flex flex-column\">\n          <div className=\"map-options p-3 shadow flex-grow-0 flex-shrink-0\">\n            Map view\n            <label>\n              <input\n                type=\"radio\"\n                name=\"map-type-option1\"\n                value=\"countries\"\n                checked={mapType === \"countries\"}\n                onChange={() => setMapType(\"countries\")}\n                className=\"form-check-input ms-2 me-1\"\n              />\n              COUNTRIES\n            </label>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"map-type-option2\"\n                value=\"locations\"\n                checked={mapType === \"locations\"}\n                onChange={() => setMapType(\"locations\")}\n                className=\"form-check-input ms-2 me-1\"\n              />\n              LOCATIONS\n            </label>\n          </div>\n          <div className=\"resource-list h-100 overflow-auto flex-grow-1 flex-shrink-1\">\n            <ResourcesGrid\n              archiveItems={filteredItems}\n              tagField={\n                mapType === \"locations\" ? \"Location_name\" : \"Country_name\"\n              }\n            ></ResourcesGrid>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ResourcesMap;\n","import * as React from 'react';\nimport { useQueryParam, ArrayParam } from 'use-query-params';\n\nconst FilterBlock = (props) => {\n  const [params, setFilterValue] = useQueryParam(props.filterName, ArrayParam);\n\n  const paramsArray = params || []\n\n  const onChange = (value) => {\n    if(paramsArray.includes(value)){\n      paramsArray.splice(paramsArray.indexOf(value), 1)\n    } else {\n      paramsArray.push(value)\n    }\n    setFilterValue(paramsArray)\n  }\n\n  return (\n    <div className=\"filter-list\">\n        {props.filterItems.map(filter =>{\n          const val = filter.fields[props.valueBy] || filter.fields[props.labelBy]\n          const label = filter.fields[props.labelBy]\n          const isSelected = paramsArray.includes(val)\n           return (\n             <label className={`filter-list-item ${isSelected ? \"checked\" : \" \"}`}>\n              <div className=\"circle-checkbox\"></div>\n              <input type=\"checkbox\"\n                checked={isSelected} \n                value={val} \n                onChange={() => onChange(val)}\n                ></input>\n                {label} ({filter.fields['Count']})\n             </label>\n           )\n        })}\n    </div>\n  );\n};\n\nexport default FilterBlock;","import * as React from \"react\";\nimport { useQueryParam, NumberParam } from \"use-query-params\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst FilterDates = () => {\n  const [startDate, setStartDate] = useQueryParam(\"dateFrom\", NumberParam);\n  const [endDate, setEndDate] = useQueryParam(\"dateTo\", NumberParam);\n\n  const onChangeStart = (date) => {\n    let v = date\n      ? Date.UTC(date.getUTCFullYear(), date.getUTCMonth())\n      : undefined;\n    setStartDate(v);\n  };\n  const onChangeEnd = (date) => {\n    let v = date\n      ? Date.UTC(date.getUTCFullYear(), date.getUTCMonth())\n      : undefined;\n    setEndDate(v);\n  };\n\n  return (\n    <div className=\"filter-dates\">\n      Select the dates range to refine your search.\n      <div className=\"date-input dates-from\">\n        <label>From</label>\n        <DatePicker\n          selected={startDate}\n          onChange={(date) => onChangeStart(date)}\n          dateFormat=\"MM/yyyy\"\n          placeholderText=\"Month / Year\"\n          showMonthYearPicker\n        />\n      </div>\n      <div className=\"date-input dates-to\">\n        <label>To</label>\n        <DatePicker\n          selected={endDate}\n          onChange={(date) => onChangeEnd(date)}\n          dateFormat=\"MM/yyyy\"\n          placeholderText=\"Month / Year\"\n          showMonthYearPicker\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default FilterDates;\n","import * as React from \"react\";\nimport arrow from \"../assets/arrow.svg\";\n\nconst useClickOutside = (ref, callback) => {\n  const handleClick = (e) => {\n    let fromDatePicker =\n      e.target.className instanceof String &&\n      e.target.className.includes(\"react-datepicker\");\n    if (\n      ref.current &&\n      !ref.current.contains(e.target) &&\n      !ref.current.parentNode.contains(e.target) &&\n      !fromDatePicker\n    ) {\n      callback();\n    }\n  };\n  React.useEffect(() => {\n    document.addEventListener(\"click\", handleClick);\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  });\n};\n\nconst FilterSecondarySidebar = ({ open, width, children, title, onClose }) => {\n  const clickRef = React.useRef();\n  useClickOutside(clickRef, () => {\n    open && onClose();\n  });\n\n  return (\n    <React.Fragment>\n      <div\n        ref={clickRef}\n        className={`secondary-sidebar ${open ? \"open\" : \"\"}`}\n        style={{\n          width: `${width}px`,\n        }}\n      >\n        <div className=\"secondary-sidebar-header\">\n          <div\n            className=\"arrow-icon reverse\"\n            style={{ backgroundImage: `url(${arrow})` }}\n            onClick={() => onClose()}\n          ></div>\n          <div className=\"filter-title\">{title}</div>\n        </div>\n        <div className=\"secondary-sidebar-content\">{children}</div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default FilterSecondarySidebar;\n","export default __webpack_public_path__ + \"static/media/reset-icon.1921e3f5.svg\";","import { Component } from \"react\";\nimport \"./FilterSidebar.sass\";\nimport { useHistory } from \"react-router-dom\";\n\nimport FilterBlock from \"./FilterBlock\";\nimport FilterDates from \"./FilterDates\";\n\nimport FilterSecondarySidebar from \"./FilterSecondarySidebar\";\nimport arrowIcon from \"../assets/arrow.svg\";\nimport resetIcon from \"../assets/reset-icon.svg\";\n\nconst filtersList = [\n  {\n    key: \"pandemics\",\n    label: \"Pandemics\",\n  },\n  {\n    key: \"themes\",\n    label: \"Themes\",\n  },\n  {\n    key: \"tags\",\n    label: \"Tags\",\n  },\n  {\n    key: \"resource_type\",\n    label: \"Types\",\n  },\n  {\n    key: \"languages\",\n    label: \"Languages\",\n  },\n  {\n    key: \"countries\",\n    label: \"Countries\",\n  },\n  {\n    key: \"locations\",\n    label: \"Locations\",\n  },\n  {\n    key: \"dates\",\n    label: \"Dates\",\n  },\n];\n\nexport default class ResourceCard extends Component {\n  state = {\n    showSideMenu: false,\n    currentFilterPanel: null,\n  };\n\n  setShowSideMenu(show) {\n    this.setState({\n      showSideMenu: show,\n    });\n  }\n\n  setFilterPanel(value) {\n    this.setState({\n      currentFilterPanel: value,\n    });\n    value && this.setShowSideMenu(true);\n  }\n\n  currentFilterContent() {\n    switch (this.state.currentFilterPanel) {\n      case \"pandemics\":\n        return (\n          <FilterBlock\n            blockTitle=\"Pandemics\"\n            filterName=\"Pandemic\"\n            labelBy=\"Name\"\n            filterItems={this.props.filters.pandemics}\n          ></FilterBlock>\n        );\n      case \"themes\":\n        return (\n          <FilterBlock\n            blockTitle=\"Themes\"\n            filterName=\"Themes\"\n            labelBy=\"Theme\"\n            filterItems={this.props.filters.themes}\n          ></FilterBlock>\n        );\n      case \"resource_type\":\n        return (\n          <FilterBlock\n            blockTitle=\"Resource Type\"\n            filterName=\"Type\"\n            labelBy=\"Type\"\n            filterItems={this.props.filters.types}\n          ></FilterBlock>\n        );\n      case \"tags\":\n        return (\n          <FilterBlock\n            blockTitle=\"Tags\"\n            filterName=\"Tags_id\"\n            labelBy=\"Tag\"\n            valueBy=\"ID\"\n            filterItems={this.props.filters.tags}\n          ></FilterBlock>\n        );\n      case \"languages\":\n        return (\n          <FilterBlock\n            blockTitle=\"Languages\"\n            filterName=\"Languages_id\"\n            labelBy=\"Language\"\n            valueBy=\"ID\"\n            filterItems={this.props.filters.languages}\n          ></FilterBlock>\n        );\n      case \"countries\":\n        return (\n          <FilterBlock\n            blockTitle=\"Countries\"\n            filterName=\"Country\"\n            labelBy=\"Country\"\n            filterItems={this.props.filters.countries}\n          ></FilterBlock>\n        );\n      case \"locations\":\n        return (\n          <FilterBlock\n            blockTitle=\"Locations\"\n            filterName=\"Location\"\n            labelBy=\"City\"\n            filterItems={this.props.filters.cities}\n          ></FilterBlock>\n        );\n      case \"dates\":\n        return <FilterDates></FilterDates>;\n      default:\n        return <div></div>;\n    }\n  }\n\n  render() {\n    const { open, toggleOpen } = this.props;\n    return (\n      <div className={`sidebar-container ${open ? \"open\" : \"\"}`}>\n        <div className=\"primary-sidebar\">\n          <div className=\"sidebar-title d-flex justify-content-between align-items-center\">\n            <span>Filters</span>\n            <span\n              className=\"arrow-icon reverse d-block d-md-none\"\n              style={{ backgroundImage: `url(${arrowIcon})` }}\n              onClick={toggleOpen}\n            ></span>\n          </div>\n          {filtersList.map((t) => (\n            <div\n              className={`filter-type ${\n                this.state.currentFilterPanel === t.key ? \"active\" : \" \"\n              }`}\n              onClick={() => this.setFilterPanel(t.key)}\n            >\n              {t.label}\n              <div\n                className=\"arrow-icon\"\n                style={{ backgroundImage: `url(${arrowIcon})` }}\n              ></div>\n            </div>\n          ))}\n          <ResetFilter></ResetFilter>\n        </div>\n        <FilterSecondarySidebar\n          open={this.state.showSideMenu}\n          width=\"250\"\n          title={\n            this.state.currentFilterPanel\n              ? filtersList.find((e) => e.key === this.state.currentFilterPanel)\n                  .label\n              : \"\"\n          }\n          onClose={() => {\n            this.setShowSideMenu(false);\n            this.setFilterPanel(false);\n          }}\n          children={this.currentFilterContent()}\n        ></FilterSecondarySidebar>\n      </div>\n    );\n  }\n}\n\nconst ResetFilter = ({ filters }) => {\n  const history = useHistory();\n\n  function handleClick() {\n    history.push(\"/explore\");\n  }\n\n  return (\n    <div className=\"reset-filter\" onClick={handleClick}>\n      <div\n        className=\"icon\"\n        style={{ backgroundImage: `url(${resetIcon})` }}\n      ></div>\n      Reset filter\n    </div>\n  );\n};\n","import { useQueryParam, ArrayParam } from \"use-query-params\";\nimport moment from \"moment\";\n\nconst CurrentFiltersRecap = ({ filterKey, filters }) => {\n  const [params, setFilterValue] = useQueryParam(filterKey, ArrayParam);\n\n  const paramsArray = params || [];\n\n  const onRemove = (value) => {\n    if (paramsArray.includes(value)) {\n      paramsArray.splice(paramsArray.indexOf(value), 1);\n    }\n    setFilterValue(paramsArray);\n  };\n\n  return paramsArray.map((value) => {\n    let displayValue = value;\n    if (filterKey.indexOf(\"date\") >= 0 && moment(+value).isValid()) {\n      displayValue = moment(+value).format(\"MM/YYYY\");\n    }\n    if (filterKey.indexOf(\"_id\") >= 0) {\n      let key = filterKey.replace(\"_id\", \"\").toLowerCase();\n      let item = filters[key] && filters[key].find((e) => e.id === value);\n      if (item) {\n        displayValue = item.fields[\"Label\"];\n      } else {\n        displayValue = \"\";\n      }\n    }\n    return (\n      <span\n        className=\"badge rounded-pill filter-recap-item text-body me-2 mb-3\"\n        onClick={() => onRemove(value)}\n      >\n        {displayValue} <span>x</span>\n      </span>\n    );\n  });\n};\n\nexport default CurrentFiltersRecap;\n","import * as React from 'react';\nimport { useQueryParam, StringParam } from 'use-query-params';\n\nconst FilterSeach = (props) => {\n  const [seachQ, setFilterValue] = useQueryParam('search', StringParam);\n\n\n  const onChange = (value) => {\n    setFilterValue(value)\n  }\n\n  return (\n    <input type=\"text\" \n      placeholder=\"search\" value={seachQ}\n      onChange={(e) => onChange(e.target.value)}></input>\n  );\n};\n\nexport default FilterSeach;","export default __webpack_public_path__ + \"static/media/rectangle.dada3c21.svg\";","export default __webpack_public_path__ + \"static/media/rectangle-active.b4287a0a.svg\";","export default __webpack_public_path__ + \"static/media/list.c092c90e.svg\";","export default __webpack_public_path__ + \"static/media/list-active.5020de5f.svg\";","export default __webpack_public_path__ + \"static/media/circle.d4d761f1.svg\";","export default __webpack_public_path__ + \"static/media/circle-active.3bfe5508.svg\";","export default __webpack_public_path__ + \"static/media/filters.811b2828.svg\";","import { Component } from \"react\";\nimport \"./ExploreView.sass\";\nimport { Spinner } from \"react-bootstrap\";\nimport ResourcesGrid from \"../components/ResourcesGrid\";\nimport ResourcesList from \"../components/ResourcesList\";\nimport ResourcesMap from \"../components/ResourcesMap\";\n\nimport FilterSidebar from \"../components/FilterSidebar\";\nimport CurrentFiltersRecap from \"../components/CurrentFiltersRecap\";\nimport FilterSearch from \"../components/FilterSearch\";\nimport rectIcon from \"../assets/rectangle.svg\";\nimport rectIconActive from \"../assets/rectangle-active.svg\";\nimport listIcon from \"../assets/list.svg\";\nimport listIconActive from \"../assets/list-active.svg\";\nimport circleIcon from \"../assets/circle.svg\";\nimport circleIconActive from \"../assets/circle-active.svg\";\nimport filtersIcon from \"../assets/filters.svg\";\nimport moment from \"moment\";\n\nimport { base, MAIN_TABLE } from \"../utils/airtable\";\n\nexport default class ExploreView extends Component {\n  state = {\n    archiveItems: [],\n    loading: false,\n    currentViewType: \"grid\",\n    showSideBar: false,\n  };\n\n  toggleSideBar() {\n    this.setState({\n      showSideBar: !this.state.showSideBar,\n    });\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n  componentDidUpdate(prevProps) {\n    if (\n      JSON.stringify(prevProps.params) !== JSON.stringify(this.props.params)\n    ) {\n      this.fetchData();\n    }\n  }\n  setCurrentViewType(type) {\n    this.setState({\n      currentViewType: type,\n    });\n  }\n  fetchData() {\n    var self = this;\n    self.setState({\n      loading: true,\n    });\n\n    let formulas = [];\n\n    this.props.params &&\n      Object.keys(this.props.params).forEach((paramKey) => {\n        if (paramKey === \"search\") {\n          formulas.push(\n            'OR(FIND(LOWER(\"' +\n              this.props.params[paramKey] +\n              '\"), LOWER({Summary (limit 500)})), ' +\n              'FIND(LOWER(\"' +\n              this.props.params[paramKey] +\n              '\"), LOWER({Title ID})))'\n          );\n        } else if (\n          paramKey === \"dateFrom\" &&\n          moment(+this.props.params[paramKey]).isValid()\n        ) {\n          formulas.push(\n            'OR(IS_AFTER({Production date}, \"' +\n              moment(+this.props.params[paramKey]).format(\"YYYY-MM-DD\") +\n              '\"))'\n          );\n        } else if (\n          paramKey === \"dateTo\" &&\n          moment(+this.props.params[paramKey]).isValid()\n        ) {\n          formulas.push(\n            'OR(IS_BEFORE({Production date}, \"' +\n              moment(+this.props.params[paramKey]).format(\"YYYY-MM-DD\") +\n              '\"))'\n          );\n        } else {\n          let filterVal = Array.isArray(this.props.params[paramKey])\n            ? this.props.params[paramKey]\n            : [this.props.params[paramKey]];\n          formulas.push(\n            \"OR(\" +\n              filterVal\n                .map((v) => 'FIND(\"' + v + '\",{' + paramKey + '} & \"\")')\n                .join(\", \") +\n              \")\"\n          );\n        }\n      });\n    formulas.push('REGEX_MATCH({Status}, \"Published\")');\n    let formula = formulas.length > 0 ? \"AND(\" + formulas.join(\", \") + \")\" : \"\";\n\n    let allRecords = [];\n    //OR(RECORD_ID() = ‘recRjdJSziwMjfhO8’, RECORD_ID() = ‘recdRonUzKAIMPOxb’)\n    base(MAIN_TABLE)\n      .select({\n        view: \"Table\",\n        filterByFormula: formula,\n      })\n      .eachPage(\n        function page(records, fetchNextPage) {\n          allRecords = allRecords.concat(records);\n          fetchNextPage();\n        },\n        function done(err) {\n          if (err) {\n            console.error(err);\n            return;\n          }\n          self.setState({\n            loading: false,\n            archiveItems: allRecords,\n          });\n        }\n      );\n  }\n  renderParamsRecap() {\n    return Object.keys(this.props.params)\n      .filter((filterKey) => filterKey !== \"search\")\n      .map((filterKey) => (\n        <CurrentFiltersRecap\n          filterKey={filterKey}\n          filters={this.props.filters}\n        ></CurrentFiltersRecap>\n      ));\n  }\n  renderCurrentViewType() {\n    switch (this.state.currentViewType) {\n      case \"grid\":\n        return (\n          <ResourcesGrid archiveItems={this.state.archiveItems}></ResourcesGrid>\n        );\n      case \"list\":\n        return (\n          <ResourcesList archiveItems={this.state.archiveItems}></ResourcesList>\n        );\n      case \"map\":\n        return (\n          <ResourcesMap archiveItems={this.state.archiveItems}></ResourcesMap>\n        );\n      default:\n        return <div></div>;\n    }\n  }\n  render() {\n    return (\n      <div className=\"d-flex overflow-hidden h-100\">\n        <div className=\"sidebar\">\n          <FilterSidebar\n            filters={this.props.filters}\n            open={this.state.showSideBar}\n            toggleOpen={() => this.toggleSideBar()}\n          ></FilterSidebar>\n        </div>\n        <div className=\"main-content position-relative overflow-hidden w-100 d-flex flex-column\">\n          <div className=\"content-top-bar d-flex text-black-50 align-items-center w-100 p-3 p-md-4 flex-grow-0 flex-shrink-0\">\n            <div className=\"d-block d-md-none border-end border-dark pe-1 me-1\">\n              <div\n                className={`view-type`}\n                onClick={() => this.toggleSideBar()}\n                style={{\n                  backgroundImage: `url(${filtersIcon})`,\n                }}\n              ></div>\n            </div>\n            <div>\n              <p className=\"lead mb-0\">\n                Results: {this.state.archiveItems.length}\n              </p>\n            </div>\n            <div className=\"results-view-type d-flex ms-auto\">\n              <div\n                className={`view-type grid`}\n                onClick={() => this.setCurrentViewType(\"grid\")}\n                style={{\n                  backgroundImage:\n                    this.state.currentViewType === \"grid\"\n                      ? `url(${rectIconActive})`\n                      : `url(${rectIcon})`,\n                }}\n              ></div>\n              <div\n                className={`view-type list`}\n                onClick={() => this.setCurrentViewType(\"list\")}\n                style={{\n                  backgroundImage:\n                    this.state.currentViewType === \"list\"\n                      ? `url(${listIconActive})`\n                      : `url(${listIcon})`,\n                }}\n              ></div>\n              <div\n                className={`view-type map`}\n                onClick={() => this.setCurrentViewType(\"map\")}\n                style={{\n                  backgroundImage:\n                    this.state.currentViewType === \"map\"\n                      ? `url(${circleIconActive})`\n                      : `url(${circleIcon})`,\n                }}\n              ></div>\n            </div>\n            <div className=\"results-seach d-none d-md-block\">\n              <FilterSearch></FilterSearch>\n            </div>\n          </div>\n          {this.props.params && (\n            <div className=\"content-filters-summary d-flex flex-wrap px-3 px-md-4\">\n              {this.renderParamsRecap()}\n            </div>\n          )}\n          {this.state.loading ? (\n            <div className=\"loading\">\n              <Spinner animation=\"border\" />\n              Loading resources\n            </div>\n          ) : (\n            this.renderCurrentViewType()\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport \"./AboutView.sass\";\nimport logo from \"../assets/logoE&PA.svg\";\nimport logoIsche from \"../assets/logo_ische.svg\";\nimport data from \"../assets/about.json\";\nimport saveIcon from \"../assets/save.svg\";\nimport filterIcon from \"../assets/filter.svg\";\nimport exportIcon from \"../assets/export.svg\";\n\nconst icons = {\n  saveIcon,\n  filterIcon,\n  exportIcon,\n};\n\nfunction createMarkup(html) {\n  return { __html: html };\n}\nexport default class HomeView extends Component {\n  render() {\n    return (\n      <div className=\"about-view\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-12 offset-0 offset-md-1 col-md-6\">\n              <img src={logo} alt=\"logo\" className=\"img-fluid mb-4 mt-5\" />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"offset-md-1 col-md-7 border-end-responsive\">\n              <div\n                className=\"lead mt-3\"\n                dangerouslySetInnerHTML={createMarkup(data.intro)}\n              />\n            </div>\n\n            <div className=\"col-md-3\">\n              <a href=\"https://www.ische.org/\" target=\"_blank\" rel=\"noreferrer\">\n                <img className=\"my-3\" src={logoIsche} alt=\"logo-ische\" />\n              </a>\n              <p>{data.about}</p>\n            </div>\n          </div>\n          <div className=\"row mt-5 mx-1 mx-0-md\">\n            <div className=\"col-12 offset-0 offset-md-1 col-md-10 border border-dark\">\n              <h5 className=\"text-uppercase my-3\">{data.explore.title}</h5>\n              <div className=\"row border-top border-dark\">\n                {data.explore.sections.map((section) => {\n                  return (\n                    <div className=\"explore col-md-4\" key={section.title}>\n                      <h3 className=\"fs-5 my-2 d-flex align-items-center\">\n                        <span\n                          className=\"icons\"\n                          style={{\n                            backgroundImage: `url(${\n                              icons[section.icon + \"Icon\"]\n                            })`,\n                          }}\n                        ></span>\n                        <span>{section.title}</span>\n                      </h3>\n                      <p>{section.desc}</p>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n          <div className=\"row mt-5 mx-1 mx-0-md\">\n            <div className=\"col-12 offset-0 offset-md-1 col-md-10 border border-dark\">\n              <h5 className=\"text-uppercase my-3\">{data.sources.title}</h5>\n            </div>\n            <div className=\"offset-md-1 col-md-5 border-responsive-2\">\n              <p className=\"mt-2\">{data.sources.desc}</p>\n            </div>\n            <div className=\"col-md-5 border border-top-0 border-dark\">\n              {data.sources.links.map((link) => {\n                return (\n                  <div key={link.desc} className=\"mt-2\">\n                    <p>\n                      {link.desc}\n                      {\". \"}\n                      <a href={link.url} target=\"_blank\" rel=\"noreferrer\">\n                        {link.title}\n                      </a>\n                    </p>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"row mt-5 mb-3 mx-1 mx-0-md\">\n            <div className=\"offset-md-1 col-md-10 border border-dark\">\n              <h5 className=\"text-uppercase my-3\">contacts</h5>\n            </div>\n            <div className=\"offset-md-1 col-md-10 border-start border-end border-dark\">\n              <p className=\"col-md-6 col-12 my-3\">{data.contacts.desc}</p>\n            </div>\n            <div className=\"offset-md-1 col-md-10 border border-top-0 border-dark\">\n              <div className=\"row\">\n                {data.contacts.people.map((person) => {\n                  return (\n                    <div\n                      className=\"col-md-4 mb-2 border-end-responsive\"\n                      key={person.title}\n                    >\n                      <h6>{person.title}</h6>\n                      <p>{person.mail}</p>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/save.65486081.svg\";","export default __webpack_public_path__ + \"static/media/filter.147ca986.svg\";","export default __webpack_public_path__ + \"static/media/export.710949c0.svg\";","import React from \"react\";\nimport \"./CollectionView.sass\";\nimport { useCollection } from \"../utils/collection\";\nimport ResourceExtendedInfo from \"../components/ResourceExtendedInfo\";\nimport { CSVLink } from \"react-csv\";\nimport * as Papa from \"papaparse\";\nimport collectionIconAdd from \"../assets/collection-add.svg\";\n\nconst CollectionView = () => {\n  const [collection] = useCollection();\n\n  const csvData = Papa.unparse(\n    collection.map((item) => {\n      return {\n        Title: item.fields[\"Title ID\"],\n        Summary: item.fields[\"Summary (limit 500)\"],\n        URL: item.fields[\"URL\"],\n        Pandemic: item.fields[\"Pandemic_name\"],\n        Type: item.fields[\"Type_name\"],\n        Themes: item.fields[\"Themes_name\"],\n        Tags: item.fields[\"Tags_name\"],\n        Country: item.fields[\"Country_name\"],\n        Location: item.fields[\"Location_name\"],\n        Language: item.fields[\"Language_name\"],\n        Credits: item.fields[\"Language_name\"],\n        Created: item.fields[\"Production date\"],\n        Published: item.fields[\"Publishing date\"],\n        Contributor: item.fields[\"Contributor\"],\n        Attachments: item.fields[\"Attachments\"].map((a) => a.url),\n      };\n    })\n  );\n\n  return (\n    <div className=\"collection-view\">\n      <div className=\"collection-header\">\n        <h2 className=\"ms-auto\">Items Collected</h2>\n        <CSVLink\n          data={csvData}\n          filename={\"ISCHE-collection.csv\"}\n          className=\"export-link ms-auto\"\n        >\n          Export list\n        </CSVLink>\n      </div>\n      <div className=\"collection-grid\">\n        {collection.map((resource) => (\n          <ResourceExtendedInfo\n            resource={resource}\n            key={resource.id}\n          ></ResourceExtendedInfo>\n        ))}\n      </div>\n      {collection.length === 0 && (\n        <div className=\"empty-collection\">\n          Your collections is empty.\n          <br />\n          Click on <img src={collectionIconAdd} alt=\"save\"></img> to save items\n          here.\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CollectionView;\n","import React from \"react\";\nimport \"./SubmitView.sass\";\nimport data from \"../assets/submit.json\";\n\nconst SubmitView = () => {\n  return (\n    <div className=\"submit-view\">\n      <div className=\"container my-4\">\n        <div className=\"row\">\n          <div className=\"offset-0 offset-md-3 col-12 col-md-6\">\n            <h2 className=\"text-center my-4\">{data.title}</h2>\n            <p className=\"lead\">{data.desc}</p>\n            <div className=\"text-center my-5\">\n              <a\n                className=\"btn btn-lg btn-outline-primary text-uppercase\"\n                href=\"https://airtable.com/shrJkmXkg9D7FRXT7\"\n                role=\"button\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                submit\n              </a>\n            </div>\n          </div>\n          <div className=\"offset-0 offset-md-1 col-12 col-md-10\">\n            <h4 className=\"text-uppercase border border-dark m-0 p-3\">\n              {data.guidelines.title}\n            </h4>\n            <ul className=\"border-bottom border-start border-end border-dark mb-0 p-3 ps-5\">\n              {data.before.map((d) => {\n                return <li>{d}</li>;\n              })}\n            </ul>\n            <div className=\"row g-0\">\n              {data.guidelines.sections.map((section) => {\n                return (\n                  <div className=\"col-12 col-md-4 box p-3\" key={section.title}>\n                    <h3 className=\"fs-5\">{section.title}</h3>\n                    <p>{section.description}</p>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"offset-0 offset-md-1 col-12 col-md-10 mt-5\">\n            <h4 className=\"text-uppercase border border-dark m-0 p-3\">\n              {data.expect.title}\n            </h4>\n            <div className=\"row g-0\">\n              {data.expect.sections.map((section) => {\n                return (\n                  <div\n                    className=\"col-12 border-bottom border-end border-start border-dark p-3\"\n                    key={section.title}\n                  >\n                    <p className=\"m-0\">{section}</p>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default SubmitView;\n","export default __webpack_public_path__ + \"static/media/logo.65b2bc4b.svg\";","export default __webpack_public_path__ + \"static/media/collection.9ba941c0.svg\";","export default __webpack_public_path__ + \"static/media/collection-full.2832ecdb.svg\";","import * as React from \"react\";\nimport logo from \"../assets/logo.svg\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport \"./Header.sass\";\nimport { useCollection } from \"../utils/collection\";\n\nimport collectionIcon from \"../assets/collection.svg\";\nimport collectionIconFull from \"../assets/collection-full.svg\";\n\nconst Header = () => {\n  const [isNavCollapsed, setIsNavCollapsed] = React.useState(true);\n\n  const handleNavCollapse = () => setIsNavCollapsed(!isNavCollapsed);\n  let CollectionCount = () => {\n    const [collection] = useCollection();\n    const count = collection.length;\n\n    return (\n      <NavLink\n        activeClassName=\"active\"\n        to=\"/collection\"\n        className=\"header-link px-2 px-md-4\"\n      >\n        <div\n          className=\"collection-icon\"\n          style={{\n            backgroundImage:\n              count > 0\n                ? `url(${collectionIconFull})`\n                : `url(${collectionIcon})`,\n          }}\n        ></div>\n        {count}\n      </NavLink>\n    );\n  };\n\n  return (\n    <nav className=\"navbar navbar-expand-md navbar-light border-bottom border-dark pb-0 py-md-0\">\n      <div className=\"container-fluid px-0\">\n        <Link className=\"navbar-brand ps-3 pb-3 pb-md-2\" to=\"/\">\n          <img src={logo} alt=\"logo\" />\n        </Link>\n        <button\n          className=\"navbar-toggler mb-2 me-3\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarTop\"\n          aria-controls=\"navbarTop\"\n          aria-label=\"Toggle navigation\"\n          aria-expanded={!isNavCollapsed ? true : false}\n          onClick={handleNavCollapse}\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div\n          className={`${isNavCollapsed ? \"collapse\" : \"\"} navbar-collapse`}\n          id=\"navbarTop\"\n        >\n          <div className=\"header-links d-flex justify-content-space-between\">\n            <NavLink\n              to=\"/explore\"\n              activeClassName=\"active\"\n              className=\"header-link px-2 px-md-4\"\n            >\n              Explore\n            </NavLink>\n            <NavLink\n              to=\"/about\"\n              activeClassName=\"active\"\n              className=\"header-link px-2 px-md-4\"\n            >\n              About\n            </NavLink>\n            <NavLink\n              to=\"/submit\"\n              activeClassName=\"active\"\n              className=\"header-link px-2 px-md-4\"\n            >\n              Submit\n            </NavLink>\n            <CollectionCount />\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Header;\n","import \"./App.sass\";\nimport \"./components/CustomSelect.sass\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\n//import mapboxgl from \"mapbox-gl\";\n\nimport { Component } from \"react\";\nimport HomeView from \"./views/HomeView\";\nimport ResourceView from \"./views/ResourceView\";\nimport ExploreView from \"./views/ExploreView\";\nimport AboutView from \"./views/AboutView\";\nimport CollectionView from \"./views/CollectionView\";\nimport SubmitView from \"./views/SubmitView\";\nimport Header from \"./components/Header\";\nimport { CollectionProvider } from \"./utils/collection\";\nimport qs from \"qs\";\nimport { base } from \"./utils/airtable\";\nimport { Switch, Route, withRouter, Redirect } from \"react-router-dom\";\nimport { QueryParamProvider } from \"use-query-params\";\nimport mapboxgl from \"mapbox-gl\";\n\n// prettier-ignore\n// @ts-ignore\n// eslint-disable-next-line import/no-webpack-loader-syntax, import/no-unresolved\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\n\nclass App extends Component {\n  state = {\n    types: [],\n    pandemics: [],\n    languages: [],\n    tags: [],\n    countries: [],\n    themes: [],\n    cities: [],\n  };\n  componentDidMount() {\n    var self = this;\n\n    base(\"Type list\")\n      .select({\n        view: \"Grid view\",\n        filterByFormula: \"{Count}>0\",\n      })\n      .firstPage(function (err, data) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        self.setState({\n          types: data,\n        });\n      });\n    base(\"Pandemic list\")\n      .select({\n        view: \"Grid view\",\n        filterByFormula: \"{Count}>0\",\n      })\n      .firstPage(function (err, data) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        self.setState({\n          pandemics: data,\n        });\n      });\n    base(\"Language list\")\n      .select({\n        view: \"Grid view\",\n        filterByFormula: \"{Count}>0\",\n      })\n      .firstPage(function (err, data) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        self.setState({\n          languages: data,\n        });\n      });\n    base(\"Tag list\")\n      .select({\n        view: \"Grid view\",\n        filterByFormula: \"{Count}>0\",\n      })\n      .firstPage(function (err, data) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        self.setState({\n          tags: data,\n        });\n      });\n    base(\"Countries List\")\n      .select({\n        view: \"Grid view\",\n        filterByFormula: \"{Count}>0\",\n      })\n      .firstPage(function (err, data) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        self.setState({\n          countries: data,\n        });\n      });\n    base(\"Themes list\")\n      .select({\n        view: \"Grid view\",\n        filterByFormula: \"{Count}>0\",\n      })\n      .firstPage(function (err, data) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        self.setState({\n          themes: data,\n        });\n      });\n    base(\"Location List\")\n      .select({\n        view: \"Grid view\",\n        filterByFormula: \"{Count}>0\",\n      })\n      .firstPage(function (err, data) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        self.setState({\n          cities: data,\n        });\n      });\n  }\n  render() {\n    return (\n      <QueryParamProvider ReactRouterRoute={Route}>\n        <CollectionProvider>\n          <div className=\"App d-flex flex-column\">\n            {this.props.location.pathname !== \"/\" ? <Header /> : null}\n            <div className=\"app-content flex-grow-1 flex-shrink-1 overflow-hidden\">\n              <Switch>\n                <Route\n                  exact\n                  path=\"/explore/resource/:resourceId\"\n                  render={(props) => {\n                    return (\n                      <ResourceView\n                        resourceId={props.match.params.resourceId}\n                      />\n                    );\n                  }}\n                />\n                <Route\n                  path=\"/explore\"\n                  render={(props) => {\n                    let urlParams = qs.parse(props.location.search.slice(1));\n                    return (\n                      <ExploreView\n                        filters={this.state}\n                        params={urlParams}\n                      ></ExploreView>\n                    );\n                  }}\n                />\n                <Route\n                  path=\"/about\"\n                  render={() => {\n                    return <AboutView></AboutView>;\n                  }}\n                />\n                <Route\n                  path=\"/submit\"\n                  render={() => {\n                    return <SubmitView></SubmitView>;\n                  }}\n                />\n                <Route\n                  path=\"/collection\"\n                  render={() => {\n                    return <CollectionView></CollectionView>;\n                  }}\n                />\n                <Route\n                  exact\n                  path=\"/\"\n                  render={() => {\n                    return <HomeView></HomeView>;\n                  }}\n                />\n                <Route path=\"/\">\n                  <Redirect to=\"/\" />\n                </Route>\n              </Switch>\n            </div>\n          </div>\n        </CollectionProvider>\n      </QueryParamProvider>\n    );\n  }\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// import 'bootstrap/dist/css/bootstrap.min.css';\n// import './index.css';\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { HashRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}